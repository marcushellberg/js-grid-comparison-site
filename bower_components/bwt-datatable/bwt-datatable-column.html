<html><head><script src="../whenever.js/whenever.js"></script></head><body><dom-module id="paper-datatable-column"><template><style>:host{display:block;}</style><template id="arrayTemplate"><template is="dom-repeat" items="[[value]]" as="arrayItem"><div class="array-item">[[_pdt_getArrayItemLabel(column, arrayItem)]]</div></template></template><template id="editableInputTemplate"><paper-input type="[[_pdt_getCorrectTypeForInput(column.type)]]" value="{{value}}" step="any" no-label-float=""></paper-input></template><template id="editableBooleanTemplate"><paper-checkbox checked="{{value}}"></paper-checkbox></template></template><script>(function(){'use strict';Polymer({is:'paper-datatable-column',properties:{header:{type:String,notify:!0,observer:'_headerChanged'},property:String,type:{type:String,value:'String'},tooltip:{type:String,notify:!0},sortable:Boolean,sorted:{type:Boolean,notify:!0,observer:'_sortChanged',reflectToAttribute:!0},sortDirection:{type:String,value:'asc',observer:'_sortChanged'},editable:Boolean,arrayDisplayProp:String,cellStyle:{type:String,value:''},align:{type:String,value:'left'},_styleString:{type:String,value:function(){var b=this.align||this.getAttribute('align')||'left',c=this.width||this.getAttribute('width')||0;c+=parseFloat(c).toString()===c?'px':'';var d=this.getAttribute('style')||'';return'text-align:'+b+';min-width:'+c+';'+d}},default:Object,formatValue:Function,sort:Function,dialog:{type:Boolean},editIcon:{type:Boolean},inactive:{type:Boolean,observer:'_requeryColumnList'},resizePriority:{type:Number,value:0},width:Object},behaviors:[Polymer.Templatizer],created:function(){this.beenAttached=new Whenever},ready:function(){var b=Polymer.dom(this).querySelector('template');if(!b&&'array'==this.type.toLowerCase())var b=this.$.arrayTemplate;else if(!b&&this.editable&&'string'==this.type.toLowerCase())var b=this.$.editableInputTemplate;else if(!b&&this.editable&&'number'==this.type.toLowerCase())var b=this.$.editableInputTemplate;else if(!b&&this.editable&&'boolean'==this.type.toLowerCase())var b=this.$.editableBooleanTemplate;b&&(this._instanceProps={},this._instanceProps.item=!0,this._instanceProps.value=!0,this._instanceProps.column=!0,this.templatize(b),this.template=!0)},_createCellInstance:function(b,c){if('undefined'==typeof b[this.property]&&'undefined'!=typeof this.default)var d=this.stamp({item:b,column:this,value:this.default,_dataKey:c});else var d=this.stamp({item:b,column:this,value:b[this.property],_dataKey:c});return d},_formatValue:function(b){if(b=this._cast(b),'formatValue'in this)return this.formatValue(b);if('undefined'==typeof b)return'';var c=this._cast(b);if('string'==this.type.toLowerCase())return c;if('number'==this.type.toLowerCase())return c;if('boolean'==this.type.toLowerCase())return c?'Yes':'No';if('date'==this.type.toLowerCase()){var d=function(f){return 10>f?'0'+f:f};return c.getUTCFullYear()+'/'+d(c.getUTCMonth()+1)+'/'+d(c.getUTCDate())+'&nbsp;'+d(c.getUTCHours())+':'+d(c.getUTCMinutes())+':'+d(c.getUTCSeconds())}return console.warn('Complex objects should implement their own template or format-value function.',b),'?'},_sort:function(b,c){return b=this._cast(b),c=this._cast(c),'sort'in this?this.sort(b,c):b<c?-1:b>c?1:0},_cast:function(b){return('undefined'==typeof b||null===b)&&('undefined'==typeof this.default?b='':b=JSON.parse(JSON.stringify(this.default))),'string'==this.type.toLowerCase()?b.toString():'number'==this.type.toLowerCase()?parseFloat(b):'boolean'==this.type.toLowerCase()?!!b:'date'==this.type.toLowerCase()?new Date(b):b},_sortChanged:function(){this.sorted&&this.beenAttached.whenReady(function(){this.parentNodeRef.sort(this)}.bind(this))},_forwardParentProp:function(){console.warn('_forwardParentProp',arguments)},_forwardParentPath:function(){console.warn('_forwardParentPath',arguments)},_forwardInstanceProp:function(b,c,d){var e=c.split('.'),f=e.shift();if('value'==f){var g=['data',b.get('_dataKey'),this.property];d=this._cast(d),this.parentNodeRef.set(g,d)}else'item'==f&&console.warn('_forwardInstanceProp',arguments)},_forwardInstancePath:function(b,c,d){var e=c.split('.'),f=e.shift();if('value'==f){var g=['data',b.get('_dataKey'),this.property].concat(e);0==e.length&&(d=this._cast(d))}else if('item'==f)var g=['data',b.get('_dataKey')].concat(e);this.parentNodeRef.set(g,d)},_requeryColumnList:function(){this.beenAttached.state.ready&&this.parentNodeRef._queryAndSetColumns()},_registerEvilFunctions:function(){'undefined'==typeof this.dataHost||'undefined'!=typeof this.parentNodeRef.dataHost?this.dataHost=this.parentNodeRef.dataHost:'undefined'==typeof this.dataHost&&console.warn('A hack is used to support some functionality of the `[editable]` and [`array-display-prop`] attribute. This however requires the element to be located in a polymer element or `dom-bind`.'),this.dataHost._pdt_getArrayItemLabel=this._getArrayItemLabel,this.dataHost._pdt_getCorrectTypeForInput=this._getCorrectTypeForInput},_getArrayItemLabel:function(b,c){return b.arrayDisplayProp?c[b.arrayDisplayProp]:c},_getCorrectTypeForInput:function(b){if('string'==b.toLowerCase())return'string';return'number'==b.toLowerCase()?'number':void 0},_headerChanged:function(){this.fire('header-changed')}})})();</script></dom-module></body></html>