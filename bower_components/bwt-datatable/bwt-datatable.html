<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="./bwt-datatable-column.html"><link rel="import" href="./bwt-datatable-edit-dialog.html"><link rel="import" href="./datatable-icons.html"><link rel="import" href="../paper-checkbox/paper-checkbox.html"><link rel="import" href="../paper-tooltip/paper-tooltip.html"><link rel="import" href="../paper-progress/paper-progress.html"><link rel="import" href="../iron-media-query/iron-media-query.html"><link rel="import" href="../iron-scroll-target-behavior/iron-scroll-target-behavior.html"><script src="weakCache.js"></script></head><body><dom-module id="paper-datatable"><template><custom-style><style is="custom-style">:host{display:block;@apply --paper-font-common-base;position:relative;}:host([resize-behavior='overflow']) #container{overflow:auto;}:host([resize-behavior='dynamic-columns']) #container{overflow:auto;}:host([resize-behavior='fixed']) table{table-layout:fixed;}:host([resize-behavior='fixed']) th{overflow:hidden;text-overflow:ellipsis;}:host([resize-behavior='fixed']) td{overflow:hidden;}table{border-spacing:0px;width:100%;}tr td, tr th{border-bottom:1px solid var(--paper-datatable-divider-color, var(--divider-color));padding:6px 28px 6px 28px;box-sizing:border-box;}td{height:48px;}th{font-weight:500;text-align:left;white-space:nowrap;@apply --paper-font-common-base;-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;user-select:none;color:rgba(0,0,0, .54);font-size:12px;transition:linear .1s color, padding-left .2s linear;box-sizing:border-box;height:56px;}th:not([data-sortable]) iron-icon.sort{display:none;}th[data-sortable] iron-icon.sort{transition:transform .2s linear, width .2s linear, color .2s linear;color:rgba(0,0,0, .26);width:0px;@apply --paper-datatable-column-header-sort-icon-hover;}th[data-sortable]{cursor:pointer;}th[data-sortable]:not([data-sorted]):hover iron-icon{}th[data-sortable][data-sorted], th[data-sortable]:hover{padding-left:4px;color:rgba(0,0,0, .87);@apply --paper-datatable-column-header-sorted;}th[data-sortable][data-sorted] iron-icon, th[data-sortable]:hover iron-icon{width:24px;}th[data-sortable][data-sorted] iron-icon.sort{color:rgba(0,0,0, .87);@apply --paper-datatable-column-header-sorted;}th[data-sortable]:not([data-sorted]) iron-icon{transform:rotate(180deg);}th[data-sortable]:not([data-sorted]):not([data-sort-direction='desc']) iron-icon{transform:rotate(0deg);}th[data-sortable][data-sorted]:not([data-sort-direction='desc']) iron-icon{transform:rotate(180deg);}tr td{cursor:pointer;}tr td.bound-cell[data-edit-icon]{padding-right:10px;}th.column{@apply --paper-datatable-column-header;}tr th span{vertical-align:middle;}td.bound-cell{font-size:13px;color:rgba(0,0,0,.87);@apply --paper-datatable-cell;}td.bound-cell div span{flex:1;}td.bound-cell iron-icon.editable{display:none;}td.bound-cell div{display:flex;align-items:center;}td.bound-cell[data-edit-icon] iron-icon.editable{color:var(--paper-datatable-icon-color, rgba(0,0,0,.54));width:18px;display:inline-block;padding-left:7px;}td.bound-cell paper-input, td.bound-cell paper-textarea, paper-datatable-edit-dialog paper-input, paper-datatable-edit-dialog paper-textarea{--paper-input-container-input:{font-size:13px;line-height:1.4em;};}tr td:first-child, tr th:first-child{padding-left:28px;padding-right:0px;width:56px;min-width:56px;}tr td:nth-of-type(2), tr th:nth-of-type(2){padding-left:28px;}td:last-of-type, th:last-of-type{padding-right:24px;}td:last-of-type{@apply --paper-datatable-cell-last;}th:last-of-type{@apply --paper-datatable-column-header-last;}tr[data-selected] td{background:var(--paper-datatable-row-selection-color, var(--paper-grey-100));}tr:hover td{background:var(--paper-datatable-row-hover-color, var(--paper-grey-200));}tbody tr:last-of-type td{border-bottom:none;}tbody td .array-item{display:inline-block;@apply --paper-datatable-array-item;}tbody td .class-1{@apply --paper-datatable-class-1;}tbody td .class-2{@apply --paper-datatable-class-2;}tbody td .class-3{@apply --paper-datatable-class-3;}tbody td .class-4{@apply --paper-datatable-class-4;}tbody td .class-5{@apply --paper-datatable-class-5;}table tr.progress{}table tr.progress th paper-progress{height:0px;transition:linear .2s height;}table tr.progress[data-progress] th paper-progress{height:3px;}table tr.progress th{padding:0px;height:1px;border-bottom:0px;}table tr.progress th paper-progress{width:100%;}paper-checkbox{--paper-checkbox-unchecked-color:var(--paper-datatable-checkbox-border-color, var(--primary-text-color));--paper-checkbox-checked-color:var(--paper-datatable-checkbox-color, var(--accent-color));@apply --paper-datatable-checkbox;}th paper-checkbox{--paper-checkbox-unchecked-color:var(--paper-datatable-header-checkbox-border-color, var(--primary-text-color));--paper-checkbox-checked-color:var(--paper-datatable-header-checkbox-color, var(--accent-color));@apply --paper-datatable-header-checkbox;}.partialSelectionContainer{width:18px;height:18px;position:relative;display:flex;align-items:center;justify-content:center;}.partialSelection{width:6px;height:2px;background:var(--paper-datatable-header-checkbox-border-color, rgba(0,0,0,.54));border-radius:1px;transition:transform .1s linear;transform:scale(0) rotate(-45deg);}.partialSelection[data-checked]{transform:scale(1) rotate(0deg);}table[mobile-view], thead[mobile-view], tbody[mobile-view], th[mobile-view], td[mobile-view], tr[mobile-view]{display:block;}tbody[mobile-view]{overflow:hidden;}thead tr[mobile-view]{position:absolute;top:-9999px;left:-9999px;}tr[mobile-view]{border:1px solid #ccc;}td[mobile-view]{border:none;border-bottom:none !important;position:relative;padding-right:26px !important;text-align:right !important;height:36px;}td[mobile-view]:last-of-type{text-align:-webkit-right !Important;padding-bottom:45px !important;}tr td[mobile-view]:first-child{margin-left:12px;padding-right:0px;padding-top:15px;width:100%;left:-12px;text-align:left !important;}tr[mobile-view]:hover td{background:none;}.mobileHeader{font-weight:500;}.fixedToTop{background:#fff;position:fixed !important;box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2);top:0;z-index:1;}.fixedToTop tr td, .fixedToTop tr th{border-bottom:0px;}</style></custom-style><iron-media-query query="(max-width: [[responseWidth]])" query-matches="{{mobileView}}"></iron-media-query><paper-datatable-edit-dialog id="dialog"></paper-datatable-edit-dialog><div id="container"><table mobile-view$="[[mobileView]]"><thead><tr mobile-view$="[[mobileView]]"><template is="dom-if" if="[[selectable]]"><th mobile-view$="[[mobileView]]"><template is="dom-if" if="[[multiSelection]]"><div class="partialSelectionContainer"><div class="partialSelection" data-checked$="[[_partialSelection]]"></div><paper-checkbox on-tap="toggleAll" checked="[[_allChecked(selectedKeys.splices, data.*)]]" style="position:absolute;left:0px;top:0px"></paper-checkbox></div></template></th></template><template id="columnRepeat" is="dom-repeat" items="[[_columns]]" as="column" on-dom-change="_columnsRendered"><th class="column" data-sortable$="[[column.sortable]]" data-column="[[column]]" mobile-view$="[[mobileView]]" on-tap="_handleSort" style$="[[column._styleString]]"><iron-icon icon="datatable:sort-desc-md" class="sort"></iron-icon><span id="title">[[column.header]]</span><template is="dom-if" if="[[column.tooltip]]"><paper-tooltip offset="-10" fit-to-visible-bounds="">[[column.tooltip]]</paper-tooltip></template></th></template></tr><tr class="progress" data-progress$="[[progress]]" mobile-view$="[[mobileView]]"><th colspan$="[[_numberOfColumnsPlusOne(_columns.splices)]]"><paper-progress indeterminate=""></paper-progress></th></tr><tr hidden$="[[!_noItemsVisible(_rowKeys.splices)]]" mobile-view$="[[mobileView]]"><th colspan$="[[_numberOfColumnsPlusOne(_columns.splices)]]" style="text-align:center"><slot name="no-results"></slot></th></tr></thead><tbody mobile-view$="[[mobileView]]"><template id="rowRepeat" is="dom-repeat" items="[[_rowKeys]]" as="rowKey" on-dom-change="_restructureData"><template is="dom-if" if="[[multiSelection]]"><tr data-key$="[[rowKey]]" mobile-view$="[[mobileView]]" data-selected$="[[_isRowSelected(rowKey, selectedKeys.splices)]]" style$="[[_customRowStyle(rowKey)]]"><template is="dom-if" if="[[selectable]]"><td on-tap="_cellTapped" mobile-view$="[[mobileView]]"><paper-checkbox checked="[[_isRowSelected(rowKey, selectedKeys.splices)]]" on-change="_setSelection"></paper-checkbox></td></template><template id="cellRepeat" is="dom-repeat" items="[[_columns]]" as="column" on-dom-change="_restructureData"><td data-empty="" class="bound-cell" mobile-view$="[[mobileView]]" data-column="[[column]]" data-editable$="[[column.editable]]" data-edit-icon$="[[column.editIcon]]" on-tap="_cellTapped"><div><p class="mobileHeader" hidden$="[[!mobileView]]"></p><span></span><iron-icon icon="datatable:editable" class="editable"></iron-icon></div></td></template></tr></template><template is="dom-if" if="[[!multiSelection]]"><tr data-key$="[[rowKey]]" mobile-view$="[[mobileView]]" data-selected$="[[_isRowSelected(rowKey, selectedKey)]]" style$="[[_customRowStyle(rowKey)]]"><template is="dom-if" if="[[selectable]]"><td on-tap="_cellTapped" mobile-view$="[[mobileView]]"><paper-checkbox checked="[[_isRowSelected(rowKey, selectedKey)]]" on-change="_setSelection"></paper-checkbox></td></template><template id="cellRepeat" is="dom-repeat" items="[[_columns]]" as="column" on-dom-change="_restructureData"><td data-empty="" class="bound-cell" mobile-view$="[[mobileView]]" data-column="[[column]]" data-editable$="[[column.editable]]" data-edit-icon$="[[column.editIcon]]" on-tap="_cellTapped"><div><p hidden$="[[!mobileView]]"></p><span></span><iron-icon icon="datatable:editable" class="editable"></iron-icon></div></td></template></tr></template></template></tbody></table></div></template><script>var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};(function(){"use strict";Polymer({is:"paper-datatable",properties:{_columns:{type:Array},data:{type:Array,notify:!0},selectable:{type:Boolean},multiSelection:{type:Boolean,value:!1},selectedKeys:{type:Array,notify:!0,value:[]},selectedKey:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0,computed:"_getByKey(selectedKey)"},selectedItems:{type:Array,notify:!0,computed:"_getSelectedItems(selectedKeys.splices)"},_internalSortEnabled:{type:Boolean,value:!1},_rowKeys:{type:Array},_cellInstances:{type:Object},progress:{type:Boolean,value:!1},resizeBehavior:{type:String,value:"overflow",reflectToAttribute:!0},_partialSelection:{type:Boolean},filter:{type:Function},responseWidth:{type:String,value:"767px"},mobileView:Boolean,headerFixed:{type:Boolean,reflectToAttribute:!0,value:!1},_theadDistanseToTop:{type:Number}},behaviors:[Polymer.IronResizableBehavior,Polymer.IronScrollTargetBehavior],observers:["_setRowKeys(data.splices)","_notifyPathOnInstances(data.*)","_linkSelectedItem(selectedKey)","_linkSelectedItems(selectedKeys.splices)","_setPartialSelection(selectedKeys.splices, data.*)"],listeners:{"container.scroll":"_triggerDialogResize","iron-resize":"_resizeListener"},ready:function(){this.set("_columns",[]),this.set("selectedKeys",[]),this._observer=Polymer.dom(this).observeNodes(function(){this._queryAndSetColumns()})},_queryAndSetColumns:function(){var f=this.queryAllEffectiveChildren("paper-datatable-column"),g=this;f.forEach(function(h,j){h.beenAttached.state.ready||(h.parentNodeRef=g,g.async(function(){h._registerEvilFunctions(),h.beenAttached.ready()}),h.index=j,g.listen(h,"header-changed","_updateHeaderColumn"))}),this.set("_columns",f.filter(function(h){return!h.inactive})),this.async(function(){this._applySortedIndicatorsToDOM()})},_setRowKeys:function(){var f=[];this._dataKeyCollection=Polymer.Collection.get(this.data),this.data.forEach(function(g){var h=this._dataKeyCollection.getKey(g);"filter"in this?this.filter(g,h,this.data)&&f.push(h):f.push(h)}.bind(this)),this.set("_rowKeys",f),this._internalSort(this.get("_currentlySortedColumn"))},reload:function(){this._setRowKeys()},reset:function(){this.set("data",[]),this._reset()},_reset:function(){var f=Polymer.dom(this.root).querySelectorAll(".bound-cell");f.forEach(this._resetCell.bind(this)),this.$.rowRepeat.render(),Polymer.dom(this.root).querySelectorAll("#cellRepeat").forEach(function(g){return g.render()})},_resetCell:function(f){f.setAttribute("data-empty",!0),f.removeAttribute("data-row-key"),delete f.dataColumn,delete f.instance},_restructureData:function(){this.debounce("restructure data",function(){for(var f=Polymer.dom(this.root).querySelectorAll("tbody tr"),g=0;g<f.length;g++){var h=f[g],j=this.get(["data",h.dataset.key]),k=Polymer.dom(h).querySelectorAll(".bound-cell"),l=this;k.forEach(function(m,n){m.dataColumn||console.log(m);var o=m.hasAttribute("data-empty"),p=m.getAttribute("data-row-key")!==h.dataset.key,q=m.dataColumn!==m.dataBoundColumn;if(o||p||q){m.removeAttribute("data-empty");var r=m.dataColumn.property,s=j[r];if(m.setAttribute("data-row-key",h.dataset.key),m.dataBoundColumn=m.dataColumn,0<m.dataColumn.cellStyle.length?m.setAttribute("style",m.dataColumn.cellStyle):m.setAttribute("style",""),""==m.style["text-align"]&&m.dataColumn.align&&(m.style["text-align"]=m.dataColumn.align),m.dataColumn.template&&!m.dataColumn.dialog){var t=m.dataColumn._createCellInstance(j,h.dataset.key);m.instance=t,m.instanceType="inline",m.querySelector("p").textContent=l._columns[n].header,m.querySelector("span").textContent="",m.querySelector("span").appendChild(t.root)}else m.instance&&delete m.instance,m.querySelector("p").textContent=l._columns[n].header,m.querySelector("span").textContent=m.dataColumn._formatValue(s)}})}})},_notifyPathOnInstances:function(f){if("data"===f.path){var g=Polymer.dom(this.root).querySelectorAll(".bound-cell");0<g.length&&(g.forEach(function(s){s.setAttribute("data-row-key","")}),this._restructureData())}var h=f.path.split(".");if(3<=h.length){var j=h.shift(),k=h.shift(),l=Polymer.dom(this.root).querySelector("tbody tr[data-key='"+k+"']");if(!l)return console.error("critical failure"),console.log("key",k),!1;for(var g=l.querySelectorAll("td.bound-cell"),m=0;m<g.length;m++){var n=g[m],o=n.dataColumn.property;if(o==h[0]){if(n.instance){var p=h.slice();p.shift();var q=["value"].concat(p);n.instance.notifyPath(q,f.value)}n.instance&&"dialog"!=n.instanceType||(n.querySelector("span").textContent=this._columns[m]._formatValue(this.get([j,k,o])))}if(n.instance){var r=["item"].concat(h);n.instance.notifyPath(r,f.value,!0)}}}},toggleAll:function(){var f=this.fire("toggle-all",{},{cancelable:!0});if(!f.defaultPrevented){var g=this._allChecked();this.data.forEach(function(h){g?this.deselect(h):this.select(h)}.bind(this))}},select:function(f,g){g=!("undefined"!=typeof g)||g;var h=this._getKeyByItem(f);this.multiSelection?-1==this.selectedKeys.indexOf(h)&&(this.push("selectedKeys",h),g&&this.fire("selection-changed",{selected:[h]})):(this.set("selectedKey",h),g&&this.fire("selection-changed",{selected:[h]}))},deselect:function(f,g){g=!("undefined"!=typeof g)||g;var h=this._getKeyByItem(f);if(this.multiSelection){var j=this.selectedKeys.indexOf(h);this.splice("selectedKeys",j,1),g&&this.fire("selection-changed",{deselected:[h]})}else g&&this.fire("selection-changed",{deselected:[h]}),this.set("selectedKey",null)},deselectAll:function(f){this.multiSelection?this.selectedItems.forEach(function(g){this.deselect(g,f)}.bind(this)):this.deselect(this.selectedItem,f)},_allChecked:function(){var f=!0;return this.data.forEach(function(g){var h=this._dataKeyCollection.getKey(g);-1==this.selectedKeys.indexOf(h)&&(f=!1)}.bind(this)),f&&0<this.data.length},_someChecked:function(){return 0<this.selectedKeys.length&&!this._allChecked()},_isRowSelected:function(f){return this.multiSelection?-1<this.selectedKeys.indexOf(f):this.selectedKey==f},_setSelection:function(f){var g=f.model.rowKey;f.target.checked?this.multiSelection?(this.push("selectedKeys",g),this.fire("selection-changed",{selected:[g]})):(this.selectedKey?this.fire("selection-changed",{selected:[g],deselected:[this.selectedKey]}):this.fire("selection-changed",{selected:[g]}),this.selectedKey=g):this.multiSelection?(this.splice("selectedKeys",this.selectedKeys.indexOf(g),1),this.fire("selection-changed",{deselected:[g]})):(this.fire("selection-changed",{deselected:[g]}),this.selectedKey=null)},_toggleSelection:function(f){if(this.selectable)if(this.multiSelection){var g=-1<this.selectedKeys.indexOf(f);g?(this.splice("selectedKeys",this.selectedKeys.indexOf(f),1),this.fire("selection-changed",{deselected:[f]})):(this.push("selectedKeys",f),this.fire("selection-changed",{selected:[f]}))}else{var g=this.selectedKey==f;g?(this.selectedKey=null,this.fire("selection-changed",{deselected:[f]})):(this.selectedKey?this.fire("selection-changed",{selected:[f],deselected:[this.selectedKey]}):this.fire("selection-changed",{selected:[f]}),this.selectedKey=f)}},sort:function(f){this.async(function(){var g=this.fire("sort",{sort:{property:f.property,direction:f.sortDirection},column:f},{cancelable:!0});this.set("_currentlySortedColumn",f),this._applySortedIndicatorsToDOM(),g.defaultPrevented?this._internalSortEnabled=!1:(this._internalSortEnabled=!0,this._internalSort(f))})},_applySortedIndicatorsToDOM:function(){var f=Polymer.dom(this.root).querySelector("th[data-sorted]");f&&f.removeAttribute("data-sorted");var g=this.get("_currentlySortedColumn");if(g){var h=Polymer.dom(this.root).querySelectorAll("th").find(function(j){return j.dataColumn===g});h&&(h.setAttribute("data-sorted",!0),h.setAttribute("data-sort-direction",g.sortDirection))}},_internalSort:function(f){this._internalSortEnabled&&(this._rowKeys.sort(function(g,h){if("desc"==f.sortDirection){var j=g;g=h,h=j}var k=this._getByKey(g)[f.property],l=this._getByKey(h)[f.property];return f._sort(k,l)}.bind(this)),this.set("_rowKeys",JSON.parse(JSON.stringify(this._rowKeys))))},_handleSort:function(f){var g=f.model.column;g.sortable&&(g.set("sortDirection","asc"==g.sortDirection?"desc":"asc"),g.set("sorted",!0))},_cellTapped:function(f){for(var j,g=Polymer.dom(f),h=g.path,k=0;k<h.length&&("td"==h[k].nodeName.toLowerCase()&&(j=h[k]),"tr"!=h[k].nodeName.toLowerCase());k++);var l=this.$.rowRepeat.modelForElement(h[k]);if(f.model.column){var m=this._getByKey(l.rowKey);if(f.model.column.fire("cell-tap",{key:l.rowKey,item:m,target:g.path[0],originalEvent:f},{bubbles:!1}),this.fire("cell-tap",{column:f.model.column,key:l.rowKey,item:m,target:g.path[0],originalEvent:f},{}),f.model.column.dialog){this._initializeInDialog(j,f.model.column,m,l.rowKey);var n=!0}}var o=this.fire("row-tap",{key:l.rowKey,item:this._getByKey(l.rowKey),originalEvent:f},{cancelable:!0});o.defaultPrevented||n?f.preventDefault():("td"==h[0].nodeName.toLowerCase()||f.model.column&&!f.model.column.editable)&&(this._toggleSelection(l.rowKey),f.preventDefault())},_initializeInDialog:function(f,g,h,j){var k=this.$.dialog.positionedRelativeTo;k&&delete k.instance,this.$.dialog.positionedRelativeTo=f;var l=g._createCellInstance(h,j);f.instance=l,f.instanceType="dialog",Polymer.dom(this.$.dialog).innerHTML="",Polymer.dom(this.$.dialog).appendChild(l.root),this.$.dialog.findFocus()},_getKeyByItem:function(f){return this._dataKeyCollection.getKey(f)},_getByKey:function(f){return null===f?null:"object"===("undefined"==typeof f?"undefined":_typeof(f))?f.map(this._getByKey.bind(this)):this.get(["data",f])},_getSelectedItems:function(){return this._getByKey(this.selectedKeys)},_getIndexById:function(){return console.warn("This function has been deprecated and removed.")},_numberOfColumnsPlusOne:function(){return this._columns.length+1},customRowStyle:function(){},_customRowStyle:function(f){return this.customRowStyle(this._getByKey(f))},_linkSelectedItem:function(f){this.linkPaths("selectedItem","data."+f)},_linkSelectedItems:function(){var f=Polymer.Collection.get(this.selectedItems);f.getKeys().forEach(function(g,h){this.linkPaths("selectedItems."+g,"data."+this.selectedKeys[h])}.bind(this))},_triggerDialogResize:function(){this.$.dialog.setLocationRelativeTo()},_noItemsVisible:function(){return 0===this._rowKeys.length},_isEqual:function(f,g){return f==g},_columnsRendered:function(){this._resizeListener()},_setPartialSelection:function(){this.set("_partialSelection",this._someChecked())},_scrollHandler:function(){if(!this.mobileView&&this.headerFixed){var g=Polymer.dom(this.root).querySelector("thead");if(this._scrollTop>this._theadDistanseToTop&&!g.classList.contains("fixedToTop")){var h=Polymer.dom(this.root).querySelector("tbody tr"),j=Polymer.dom(h).querySelectorAll(".bound-cell");if(0===j.length)return;var k=getComputedStyle(g).width,l=g.children[0],m=Polymer.dom(l).querySelectorAll(".column");Array.prototype.forEach.call(m,function(n,o){n.style.width=j[o].style.width=n.offsetWidth+"px"}),this._headerHeight&&(g.style.top=this._headerHeight+"px"),this.$.container.style.marginTop=g.offsetHeight+"px",g.style.width=k,g.classList.add("fixedToTop")}else this._scrollTop<this._theadDistanseToTop&&g.classList.contains("fixedToTop")&&(g.style.width="auto",g.style.top=0,this.$.container.style.marginTop=0,g.classList.remove("fixedToTop"))}},_resizeHandler:function(){if(this.headerFixed&&!this._theadDistanseToTop){var f=Polymer.dom(this.root).querySelector("thead"),g=this.parentNode.nodeName;if("paper-datatable-card"===g.toLowerCase()&&this.parentNode.headerFixed){var h=Polymer.dom(this.parentNode.root).querySelector("#topBlock");this._headerHeight=h.offsetHeight,this._theadDistanseToTop=f.getBoundingClientRect().top-this._headerHeight}else this._theadDistanseToTop=f.getBoundingClientRect().top}},_resizeListener:function(){this._resizeHandler(),this._renderTooltipsIfOverflow(),this._setDynamicColumnsBySize()},_setDynamicColumnsBySize:function(){var f=28,g=this.selectable?56:0;if("dynamic-columns"==this.resizeBehavior){var h=this.queryAllEffectiveChildren("paper-datatable-column");if(0<h.length){var j=this.$.container.clientWidth;h.sort(function(l,m){if(-1===l.resizePriority&&-1===m.resizePriority)return 0;return-1===l.resizePriority?-1:-1===m.resizePriority?1:m.resizePriority-l.resizePriority});var k=g-2*f;h.forEach(function(l){l.width||console.error("For dynamic columns to work you have to set the `width` attribute of every column."),k+=parseFloat(l.width)+2*f,k>j&&-1!==l.resizePriority?l.set("inactive",!0):l.set("inactive",!1)})}}},_renderTooltipsIfOverflow:function(){if("fixed"==this.resizeBehavior&&0<this._columns.length){var f=Polymer.dom(this.root).querySelectorAll("th");f.forEach(function(g){if(g.dataColumn){var h=g.dataColumn;g.scrollWidth>g.offsetWidth?h.set("tooltip",h.header):h.set("tooltip","")}})}},_updateHeaderColumn:function(f){var g=Polymer.dom(f).localTarget;this.notifyPath("_columns."+g.index+".header",this._columns[g.index].header)}})})();</script></dom-module></body></html>